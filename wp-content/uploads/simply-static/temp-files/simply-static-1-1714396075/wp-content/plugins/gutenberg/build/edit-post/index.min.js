(()=>{var e={4403:(e,t)=>{var o;!function(){"use strict";var s={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=typeof o;if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&e.push(i)}}else if("object"===n)if(o.toString===Object.prototype.toString)for(var a in o)s.call(o,a)&&o[a]&&e.push(a);else e.push(o.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{"use strict";o.r(s),o.d(s,{PluginBlockSettingsMenuItem:()=>m.PluginBlockSettingsMenuItem,PluginDocumentSettingPanel:()=>m.PluginDocumentSettingPanel,PluginMoreMenuItem:()=>m.PluginMoreMenuItem,PluginPostPublishPanel:()=>Yo,PluginPostStatusInfo:()=>m.PluginPostStatusInfo,PluginPrePublishPanel:()=>Ko,PluginSidebar:()=>m.PluginSidebar,PluginSidebarMoreMenuItem:()=>m.PluginSidebarMoreMenuItem,__experimentalFullscreenModeClose:()=>Bt,__experimentalMainDashboardButton:()=>Ut,__experimentalPluginPostExcerpt:()=>Jo,initializeEditor:()=>es,reinitializeEditor:()=>ts,store:()=>st});var e={};o.r(e),o.d(e,{__experimentalSetPreviewDeviceType:()=>ve,__unstableCreateTemplate:()=>ye,closeGeneralSidebar:()=>J,closeModal:()=>te,closePublishSidebar:()=>se,hideBlockTypes:()=>me,initializeMetaBoxes:()=>Pe,metaBoxUpdatesFailure:()=>Ee,metaBoxUpdatesSuccess:()=>be,openGeneralSidebar:()=>K,openModal:()=>ee,openPublishSidebar:()=>oe,removeEditorPanel:()=>ae,requestMetaBoxUpdates:()=>he,setAvailableMetaBoxesPerLocation:()=>ge,setIsEditingTemplate:()=>Se,setIsInserterOpened:()=>_e,setIsListViewOpened:()=>we,showBlockTypes:()=>pe,switchEditorMode:()=>ce,toggleDistractionFree:()=>ke,toggleEditorPanelEnabled:()=>ne,toggleEditorPanelOpened:()=>ie,toggleFeature:()=>le,togglePinnedPluginItem:()=>de,togglePublishSidebar:()=>re,updatePreferredStyleVariations:()=>ue});var t={};o.r(t),o.d(t,{__experimentalGetInsertionPoint:()=>Ke,__experimentalGetPreviewDeviceType:()=>Ze,areMetaBoxesInitialized:()=>tt,getActiveGeneralSidebarName:()=>Ce,getActiveMetaBoxLocations:()=>Ue,getAllMetaBoxes:()=>Qe,getEditedPostTemplate:()=>ot,getEditorMode:()=>Be,getHiddenBlockTypes:()=>De,getMetaBoxesPerLocation:()=>$e,getPreference:()=>Oe,getPreferences:()=>Re,hasMetaBoxes:()=>je,isEditingTemplate:()=>et,isEditorPanelEnabled:()=>Le,isEditorPanelOpened:()=>Ve,isEditorPanelRemoved:()=>Ne,isEditorSidebarOpened:()=>Ae,isFeatureActive:()=>He,isInserterOpened:()=>Ye,isListViewOpened:()=>Je,isMetaBoxLocationActive:()=>qe,isMetaBoxLocationVisible:()=>We,isModalActive:()=>Ge,isPluginItemPinned:()=>ze,isPluginSidebarOpened:()=>Ie,isPublishSidebarOpened:()=>Fe,isSavingMetaBoxes:()=>Xe});const r=window.React,n=window.wp.blocks,i=window.wp.blockLibrary,a=window.wp.deprecated;var l=o.n(a);const c=window.wp.element,d=window.wp.data,u=window.wp.preferences,p=window.wp.widgets,m=window.wp.editor,g=window.wp.hooks,h=window.wp.mediaUtils;(0,g.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",(()=>h.MediaUpload));const b=window.wp.components,E=window.wp.blockEditor,v=window.wp.i18n,_=window.wp.compose;function w(e,t){if(Array.isArray(e)&&e.length)for(const o of e){if(o.name===t)return o;const e=w(o.innerBlocks,t);if(e)return e}}const S=(0,_.compose)((0,d.withSelect)(((e,t)=>{if((0,n.hasBlockSupport)(t.name,"multiple",!0))return{};const o=w(e(E.store).getBlocks(),t.name);return{originalBlockClientId:o&&o.clientId!==t.clientId&&o.clientId}})),(0,d.withDispatch)(((e,{originalBlockClientId:t})=>({selectFirst:()=>e(E.store).selectBlock(t)})))),y=(0,_.createHigherOrderComponent)((e=>S((({originalBlockClientId:t,selectFirst:o,...s})=>{if(!t)return(0,r.createElement)(e,{...s});const i=(0,n.getBlockType)(s.name),a=function(e){const t=(0,n.findTransform)((0,n.getBlockTransforms)("to",e),(({type:e,blocks:t})=>"block"===e&&1===t.length));return t?(0,n.getBlockType)(t.blocks[0]):null}(s.name);return[(0,r.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,r.createElement)(e,{key:"block-edit",...s})),(0,r.createElement)(E.Warning,{key:"multiple-use-warning",actions:[(0,r.createElement)(b.Button,{key:"find-original",variant:"secondary",onClick:o},(0,v.__)("Find original")),(0,r.createElement)(b.Button,{key:"remove",variant:"secondary",onClick:()=>s.onReplace([])},(0,v.__)("Remove")),a&&(0,r.createElement)(b.Button,{key:"transform",variant:"secondary",onClick:()=>s.onReplace((0,n.createBlock)(a.name,s.attributes))},(0,v.__)("Transform into:")," ",a.title)]},(0,r.createElement)("strong",null,i?.title,": "),(0,v.__)("This block can only be used once."))]}))),"withMultipleValidation");(0,g.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",y);const f=window.wp.coreData,P=window.wp.primitives,k=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),M=window.wp.plugins,T=window.wp.url,x=window.wp.notices;function B(){const{createNotice:e}=(0,d.useDispatch)(x.store),{getEditedPostAttribute:t}=(0,d.useSelect)(m.store),o=(0,_.useCopyToClipboard)((function(){return t("content")}),(function(){e("info",(0,v.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}));return(0,r.createElement)(b.MenuItem,{ref:o},(0,v.__)("Copy all blocks"))}const A=window.wp.keycodes,I=window.wp.privateApis,{lock:C,unlock:R}=(0,I.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/edit-post"),{interfaceStore:O}=R(m.privateApis),D=(0,d.withDispatch)((e=>{const{openModal:t}=e(O);return{openModal:t}}))((function({openModal:e}){return(0,r.createElement)(b.MenuItem,{onClick:()=>{e("editor/keyboard-shortcut-help")},shortcut:A.displayShortcut.access("h")},(0,v.__)("Keyboard shortcuts"))})),{Fill:F,Slot:N}=(0,b.createSlotFill)("ToolsMoreMenuGroup");F.Slot=({fillProps:e})=>(0,r.createElement)(N,{fillProps:e},(e=>e.length>0&&(0,r.createElement)(b.MenuGroup,{label:(0,v.__)("Tools")},e)));const L=F;function V(){const e=(0,d.useSelect)((e=>"wp_template"===e(m.store).getCurrentPostType()),[]);return(0,r.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,v.__)("Welcome Guide")})}function G(){const e=(0,d.useSelect)((e=>{const{canUser:t}=e(f.store),{getEditorSettings:o}=e(m.store),s=o().__unstableIsBlockBasedTheme,r=(0,T.addQueryArgs)("edit.php",{post_type:"wp_block"}),n=(0,T.addQueryArgs)("site-editor.php",{path:"/patterns"});return t("read","templates")&&s?n:r}),[]);return(0,r.createElement)(b.MenuItem,{role:"menuitem",href:e},(0,v.__)("Manage patterns"))}(0,M.registerPlugin)("edit-post",{render:()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(L,null,(({onClose:e})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(G,null),(0,r.createElement)(D,{onSelect:e}),(0,r.createElement)(V,null),(0,r.createElement)(B,null),(0,r.createElement)(b.MenuItem,{role:"menuitem",icon:k,href:(0,v.__)("https://wordpress.org/documentation/article/wordpress-block-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,v.__)("Help"),(0,r.createElement)(b.VisuallyHidden,{as:"span"},/* translators: accessibility text */ /* translators: accessibility text */
(0,v.__)("(opens in a new tab)")))))))});const H=window.wp.commands;var z=o(4403),U=o.n(z);const W=window.wp.keyboardShortcuts,q=window.wp.coreCommands;function $(e=[],t){const o=[...e];for(const e of t){const t=o.findIndex((t=>t.id===e.id));-1!==t?o[t]=e:o.push(e)}return o}const Q=(0,d.combineReducers)({isSaving:function(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(e={},t){if("SET_META_BOXES_PER_LOCATIONS"===t.type){const o={...e};for(const[e,s]of Object.entries(t.metaBoxesPerLocation))o[e]=$(o[e],s);return o}return e},initialized:function(e=!1,t){return"META_BOXES_INITIALIZED"===t.type||e}}),j=(0,d.combineReducers)({metaBoxes:Q}),X=window.wp.apiFetch;var Z=o.n(X);const{interfaceStore:Y}=R(m.privateApis),K=e=>({registry:t})=>{t.dispatch(Y).enableComplementaryArea("core",e)},J=()=>({registry:e})=>e.dispatch(Y).disableComplementaryArea("core"),ee=e=>({registry:t})=>(l()("select( 'core/edit-post' ).openModal( name )",{since:"6.3",alternative:"select( 'core/interface').openModal( name )"}),t.dispatch(Y).openModal(e)),te=()=>({registry:e})=>(l()("select( 'core/edit-post' ).closeModal()",{since:"6.3",alternative:"select( 'core/interface').closeModal()"}),e.dispatch(Y).closeModal()),oe=()=>({registry:e})=>{l()("dispatch( 'core/edit-post' ).openPublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').openPublishSidebar"}),e.dispatch(m.store).openPublishSidebar()},se=()=>({registry:e})=>{l()("dispatch( 'core/edit-post' ).closePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').closePublishSidebar"}),e.dispatch(m.store).closePublishSidebar()},re=()=>({registry:e})=>{l()("dispatch( 'core/edit-post' ).togglePublishSidebar",{since:"6.6",alternative:"dispatch( 'core/editor').togglePublishSidebar"}),e.dispatch(m.store).togglePublishSidebar()},ne=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).toggleEditorPanelEnabled",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelEnabled"}),t.dispatch(m.store).toggleEditorPanelEnabled(e)},ie=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).toggleEditorPanelOpened",{since:"6.5",alternative:"dispatch( 'core/editor').toggleEditorPanelOpened"}),t.dispatch(m.store).toggleEditorPanelOpened(e)},ae=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).removeEditorPanel",{since:"6.5",alternative:"dispatch( 'core/editor').removeEditorPanel"}),t.dispatch(m.store).removeEditorPanel(e)},le=e=>({registry:t})=>t.dispatch(u.store).toggle("core/edit-post",e),ce=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).switchEditorMode",{since:"6.6",alternative:"dispatch( 'core/editor').switchEditorMode"}),t.dispatch(m.store).switchEditorMode(e)},de=e=>({registry:t})=>{const o=t.select(Y).isItemPinned("core",e);t.dispatch(Y)[o?"unpinItem":"pinItem"]("core",e)};function ue(){return l()("dispatch( 'core/edit-post' ).updatePreferredStyleVariations",{since:"6.6",hint:"Preferred Style Variations are not supported anymore."}),{type:"NOTHING"}}const pe=e=>({registry:t})=>{R(t.dispatch(m.store)).showBlockTypes(e)},me=e=>({registry:t})=>{R(t.dispatch(m.store)).hideBlockTypes(e)};function ge(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const he=()=>async({registry:e,select:t,dispatch:o})=>{o({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();const s=e.select(m.store).getCurrentPost(),r=[!!s.comment_status&&["comment_status",s.comment_status],!!s.ping_status&&["ping_status",s.ping_status],!!s.sticky&&["sticky",s.sticky],!!s.author&&["post_author",s.author]].filter(Boolean),n=[new window.FormData(document.querySelector(".metabox-base-form")),...t.getActiveMetaBoxLocations().map((e=>new window.FormData((e=>document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`)||document.querySelector("#metaboxes .metabox-location-"+e))(e))))].reduce(((e,t)=>{for(const[o,s]of t)e.append(o,s);return e}),new window.FormData);r.forEach((([e,t])=>n.append(e,t)));try{await Z()({url:window._wpMetaBoxUrl,method:"POST",body:n,parse:!1}),o.metaBoxUpdatesSuccess()}catch{o.metaBoxUpdatesFailure()}};function be(){return{type:"META_BOX_UPDATES_SUCCESS"}}function Ee(){return{type:"META_BOX_UPDATES_FAILURE"}}const ve=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).__experimentalSetPreviewDeviceType",{since:"6.5",version:"6.7",hint:"registry.dispatch( editorStore ).setDeviceType"}),t.dispatch(m.store).setDeviceType(e)},_e=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).setIsInserterOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsInserterOpened"}),t.dispatch(m.store).setIsInserterOpened(e)},we=e=>({registry:t})=>{l()("dispatch( 'core/edit-post' ).setIsListViewOpened",{since:"6.5",alternative:"dispatch( 'core/editor').setIsListViewOpened"}),t.dispatch(m.store).setIsListViewOpened(e)};function Se(){return l()("dispatch( 'core/edit-post' ).setIsEditingTemplate",{since:"6.5",alternative:"dispatch( 'core/editor').setRenderingMode"}),{type:"NOTHING"}}function ye(){return l()("dispatch( 'core/edit-post' ).__unstableCreateTemplate",{since:"6.5"}),{type:"NOTHING"}}let fe=!1;const Pe=()=>({registry:e,select:t,dispatch:o})=>{if(!e.select(m.store).__unstableIsEditorReady())return;if(fe)return;const s=e.select(m.store).getCurrentPostType();window.postboxes.page!==s&&window.postboxes.add_postbox_toggles(s),fe=!0,(0,g.addFilter)("editor.__unstableSavePost","core/edit-post/save-metaboxes",((e,s)=>e.then((()=>{if(!s.isAutosave&&t.hasMetaBoxes())return o.requestMetaBoxUpdates()})))),o({type:"META_BOXES_INITIALIZED"})},ke=()=>({registry:e})=>{l()("dispatch( 'core/edit-post' ).toggleDistractionFree",{since:"6.6",alternative:"dispatch( 'core/editor').toggleDistractionFree"}),e.dispatch(m.store).toggleDistractionFree()},{interfaceStore:Me}=R(m.privateApis),Te=[],xe={},Be=(0,d.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(u.store).get("core","editorMode"))&&void 0!==t?t:"visual"})),Ae=(0,d.createRegistrySelector)((e=>()=>{const t=e(Me).getActiveComplementaryArea("core");return["edit-post/document","edit-post/block"].includes(t)})),Ie=(0,d.createRegistrySelector)((e=>()=>{const t=e(Me).getActiveComplementaryArea("core");return!!t&&!["edit-post/document","edit-post/block"].includes(t)})),Ce=(0,d.createRegistrySelector)((e=>()=>e(Me).getActiveComplementaryArea("core"))),Re=(0,d.createRegistrySelector)((e=>()=>{l()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});return{...["editorMode","hiddenBlockTypes"].reduce(((t,o)=>{const s=e(u.store).get("core",o);return{...t,[o]:s}}),{}),panels:function(e,t){var o;const s=e?.reduce(((e,t)=>({...e,[t]:{enabled:!1}})),{}),r=t?.reduce(((e,t)=>{const o=e?.[t];return{...e,[t]:{...o,opened:!0}}}),null!=s?s:{});return null!==(o=null!=r?r:s)&&void 0!==o?o:xe}(e(u.store).get("core","inactivePanels"),e(u.store).get("core","openPanels"))}}));function Oe(e,t,o){l()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const s=Re(e)[t];return void 0===s?o:s}const De=(0,d.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(u.store).get("core","hiddenBlockTypes"))&&void 0!==t?t:Te})),Fe=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-post' ).isPublishSidebarOpened",{since:"6.6",alternative:"select( 'core/editor' ).isPublishSidebarOpened"}),e(m.store).isPublishSidebarOpened()))),Ne=(0,d.createRegistrySelector)((e=>(t,o)=>(l()("select( 'core/edit-post' ).isEditorPanelRemoved",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelRemoved"}),e(m.store).isEditorPanelRemoved(o)))),Le=(0,d.createRegistrySelector)((e=>(t,o)=>(l()("select( 'core/edit-post' ).isEditorPanelEnabled",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelEnabled"}),e(m.store).isEditorPanelEnabled(o)))),Ve=(0,d.createRegistrySelector)((e=>(t,o)=>(l()("select( 'core/edit-post' ).isEditorPanelOpened",{since:"6.5",alternative:"select( 'core/editor' ).isEditorPanelOpened"}),e(m.store).isEditorPanelOpened(o)))),Ge=(0,d.createRegistrySelector)((e=>(t,o)=>(l()("select( 'core/edit-post' ).isModalActive",{since:"6.3",alternative:"select( 'core/interface' ).isModalActive"}),!!e(Me).isModalActive(o)))),He=(0,d.createRegistrySelector)((e=>(t,o)=>!!e(u.store).get("core/edit-post",o))),ze=(0,d.createRegistrySelector)((e=>(t,o)=>e(Me).isItemPinned("core",o))),Ue=(0,d.createSelector)((e=>Object.keys(e.metaBoxes.locations).filter((t=>qe(e,t)))),(e=>[e.metaBoxes.locations])),We=(0,d.createRegistrySelector)((e=>(t,o)=>qe(t,o)&&$e(t,o)?.some((({id:o})=>e(m.store).isEditorPanelEnabled(t,`meta-box-${o}`)))));function qe(e,t){const o=$e(e,t);return!!o&&0!==o.length}function $e(e,t){return e.metaBoxes.locations[t]}const Qe=(0,d.createSelector)((e=>Object.values(e.metaBoxes.locations).flat()),(e=>[e.metaBoxes.locations]));function je(e){return Ue(e).length>0}function Xe(e){return e.metaBoxes.isSaving}const Ze=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-site' ).__experimentalGetPreviewDeviceType",{since:"6.5",version:"6.7",alternative:"select( 'core/editor' ).getDeviceType"}),e(m.store).getDeviceType()))),Ye=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-post' ).isInserterOpened",{since:"6.5",alternative:"select( 'core/editor' ).isInserterOpened"}),e(m.store).isInserterOpened()))),Ke=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-post' ).__experimentalGetInsertionPoint",{since:"6.5",version:"6.7"}),R(e(m.store)).getInsertionPoint()))),Je=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-post' ).isListViewOpened",{since:"6.5",alternative:"select( 'core/editor' ).isListViewOpened"}),e(m.store).isListViewOpened()))),et=(0,d.createRegistrySelector)((e=>()=>(l()("select( 'core/edit-post' ).isEditingTemplate",{since:"6.5",alternative:"select( 'core/editor' ).getRenderingMode"}),"wp_template"===e(m.store).getCurrentPostType())));function tt(e){return e.metaBoxes.initialized}const ot=(0,d.createRegistrySelector)((e=>()=>{const{id:t,type:o,slug:s}=e(m.store).getCurrentPost(),{getSite:r,getEditedEntityRecord:n,getEntityRecords:i}=e(f.store),a=r();if(+t===a?.page_for_posts)return n("postType","wp_template",e(f.store).getDefaultTemplateId({slug:"home"}));const l=e(m.store).getEditedPostAttribute("template");if(l){const e=i("postType","wp_template",{per_page:-1})?.find((e=>e.slug===l));return e?n("postType","wp_template",e.id):e}let c;c=s?"page"===o?`${o}-${s}`:`single-${o}-${s}`:"page"===o?"page":`single-${o}`;const d=e(f.store).getDefaultTemplateId({slug:c});return e(f.store).getEditedEntityRecord("postType","wp_template",d)})),st=(0,d.createReduxStore)("core/edit-post",{reducer:j,actions:e,selectors:t});function rt(){const e=(0,d.useSelect)((e=>e(m.store).getEditorSettings().richEditingEnabled),[]),{switchEditorMode:t}=(0,d.useDispatch)(m.store),{isWelcomeGuideVisible:o}=(0,d.useSelect)((e=>{const{isFeatureActive:t}=e(st);return{isWelcomeGuideVisible:t("welcomeGuide")}}),[]),s=(0,c.useRef)();return(0,c.useEffect)((()=>{o||s?.current?.focus()}),[o]),(0,r.createElement)("div",{className:"edit-post-text-editor"},e&&(0,r.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,r.createElement)("h2",null,(0,v.__)("Editing code")),(0,r.createElement)(b.Button,{variant:"tertiary",onClick:()=>t("visual"),shortcut:A.displayShortcut.secondary("m")},(0,v.__)("Exit code editor"))),(0,r.createElement)("div",{className:"edit-post-text-editor__body"},(0,r.createElement)(m.PostTitleRaw,{ref:s}),(0,r.createElement)(m.PostTextEditor,null)))}(0,d.register)(st);const{EditorCanvas:nt}=R(m.privateApis);function it({styles:e}){const{isWelcomeGuideVisible:t,renderingMode:o,isBlockBasedTheme:s,hasV3BlocksOnly:i,isEditingTemplate:a}=(0,d.useSelect)((e=>{const{isFeatureActive:t}=e(st),{getEditorSettings:o,getRenderingMode:s}=e(m.store),{getBlockTypes:r}=e(n.store),i=o();return{isWelcomeGuideVisible:t("welcomeGuide"),renderingMode:s(),isBlockBasedTheme:i.__unstableIsBlockBasedTheme,hasV3BlocksOnly:r().every((e=>e.apiVersion>=3)),isEditingTemplate:"wp_template"===e(m.store).getCurrentPostType()}}),[]),l=(0,d.useSelect)((e=>e(st).hasMetaBoxes()),[]),u=function(){const e=(0,d.useRegistry)();return(0,_.useRefEffect)((t=>{function o(o){if(o.target!==t)return;const{ownerDocument:s}=t,{defaultView:r}=s;if(!r.parseInt(r.getComputedStyle(t).paddingBottom,10))return;const i=t.lastElementChild;if(!i)return;const a=i.getBoundingClientRect();if(o.clientY<a.bottom)return;o.preventDefault();const l=e.select(E.store).getBlockOrder(""),c=l[l.length-1],d=e.select(E.store).getBlock(c),{selectBlock:u,insertDefaultBlock:p}=e.dispatch(E.store);(0,n.isUnmodifiedDefaultBlock)(d)?u(c):p()}return t.addEventListener("mousedown",o),()=>{t.removeEventListener("mousedown",o)}}),[e])}();let p;l||"post-only"!==o||(p="40vh"),e=(0,c.useMemo)((()=>[...e,{css:p?`body{padding-bottom:${p}}`:""}]),[e,p]);const g=(i||s)&&!l||a;return(0,r.createElement)("div",{className:U()("edit-post-visual-editor",{"has-inline-canvas":!g})},(0,r.createElement)(nt,{disableIframe:!g,styles:e,autoFocus:!t,contentRef:u}))}const at=function(){const{toggleFeature:e}=(0,d.useDispatch)(st),{registerShortcut:t}=(0,d.useDispatch)(W.store),{replaceBlocks:o}=(0,d.useDispatch)(E.store),{getBlockName:s,getSelectedBlockClientId:r,getBlockAttributes:i}=(0,d.useSelect)(E.store),a=(e,t)=>{e.preventDefault();const a=0===t?"core/paragraph":"core/heading",l=r();if(null===l)return;const c=s(l);if("core/paragraph"!==c&&"core/heading"!==c)return;const d=i(l),u="core/paragraph"===c?"align":"textAlign",p="core/paragraph"===a?"align":"textAlign";o(l,(0,n.createBlock)(a,{level:t,content:d.content,[p]:d[u]}))};return(0,c.useEffect)((()=>{t({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,v.__)("Toggle fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}}),t({name:"core/edit-post/next-region",category:"global",description:(0,v.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),t({name:"core/edit-post/previous-region",category:"global",description:(0,v.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),t({name:"core/edit-post/transform-heading-to-paragraph",category:"block-library",description:(0,v.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((e=>{t({name:`core/edit-post/transform-paragraph-to-heading-${e}`,category:"block-library",description:(0,v.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${e}`}})}))}),[]),(0,W.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{e("fullscreenMode")})),(0,W.useShortcut)("core/edit-post/transform-heading-to-paragraph",(e=>a(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,W.useShortcut)(`core/edit-post/transform-paragraph-to-heading-${e}`,(t=>a(t,e)))})),null},{PreferenceBaseOption:lt}=R(u.privateApis);function ct({willEnable:e}){const[t,o]=(0,c.useState)(!1);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,v.__)("A page reload is required for this change. Make sure your content is saved before reloading.")),(0,r.createElement)(b.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:t,disabled:t,onClick:()=>{o(!0),function(){const e=document.getElementById("toggle-custom-fields-form");e.querySelector('[name="_wp_http_referer"]').setAttribute("value",(0,T.getPathAndQueryString)(window.location.href)),e.submit()}()}},e?(0,v.__)("Show & Reload Page"):(0,v.__)("Hide & Reload Page")))}const dt=(0,d.withSelect)((e=>({areCustomFieldsEnabled:!!e(m.store).getEditorSettings().enableCustomFields})))((function({label:e,areCustomFieldsEnabled:t}){const[o,s]=(0,c.useState)(t);return(0,r.createElement)(lt,{label:e,isChecked:o,onChange:s},o!==t&&(0,r.createElement)(ct,{willEnable:o}))})),{PreferenceBaseOption:ut}=R(u.privateApis),pt=(0,_.compose)((0,d.withSelect)(((e,{panelName:t})=>{const{isEditorPanelEnabled:o,isEditorPanelRemoved:s}=e(m.store);return{isRemoved:s(t),isChecked:o(t)}})),(0,_.ifCondition)((({isRemoved:e})=>!e)),(0,d.withDispatch)(((e,{panelName:t})=>({onChange:()=>e(m.store).toggleEditorPanelEnabled(t)}))))(ut),{PreferencesModalSection:mt}=R(u.privateApis),gt=(0,d.withSelect)((e=>{const{getEditorSettings:t}=e(m.store),{getAllMetaBoxes:o}=e(st);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:o()}}))((function({areCustomFieldsRegistered:e,metaBoxes:t,...o}){const s=t.filter((({id:e})=>"postcustom"!==e));return e||0!==s.length?(0,r.createElement)(mt,{...o},e&&(0,r.createElement)(dt,{label:(0,v.__)("Custom fields")}),s.map((({id:e,title:t})=>(0,r.createElement)(pt,{key:e,label:t,panelName:`meta-box-${e}`})))):null})),ht=window.wp.viewport,{PreferenceBaseOption:bt}=R(u.privateApis),Et=(0,_.compose)((0,d.withSelect)((e=>({isChecked:e(m.store).isPublishSidebarEnabled()}))),(0,d.withDispatch)((e=>{const{enablePublishSidebar:t,disablePublishSidebar:o}=e(m.store);return{onChange:e=>e?t():o()}})),(0,ht.ifViewportMatches)("medium"))(bt),{PreferencesModalSection:vt,PreferenceToggleControl:_t}=R(u.privateApis),{PreferencesModal:wt}=R(m.privateApis);function St(){const e=(0,_.useViewportMatch)("medium"),t={general:(0,r.createElement)(r.Fragment,null,e&&(0,r.createElement)(vt,{title:(0,v.__)("Publishing")},(0,r.createElement)(Et,{help:(0,v.__)("Review settings, such as visibility and tags."),label:(0,v.__)("Enable pre-publish checks")})),(0,r.createElement)(gt,{title:(0,v.__)("Advanced")})),appearance:(0,r.createElement)(_t,{scope:"core/edit-post",featureName:"themeStyles",help:(0,v.__)("Make the editor look like your theme."),label:(0,v.__)("Use theme styles")})};return(0,r.createElement)(wt,{extraSections:t})}const{ReusableBlocksRenameHint:yt}=R(E.privateApis);function ft(){const{editPost:e}=(0,d.useDispatch)(m.store),[t,o]=(0,c.useState)(!1),[s,n]=(0,c.useState)(void 0),[i,a]=(0,c.useState)(""),{postType:l,isNewPost:u}=(0,d.useSelect)((e=>{const{getEditedPostAttribute:t,isCleanNewPost:o}=e(m.store);return{postType:t("type"),isNewPost:o()}}),[]);return(0,c.useEffect)((()=>{u&&"wp_block"===l&&o(!0)}),[]),"wp_block"===l&&u?(0,r.createElement)(r.Fragment,null,t&&(0,r.createElement)(b.Modal,{title:(0,v.__)("Create pattern"),onRequestClose:()=>{o(!1)},overlayClassName:"reusable-blocks-menu-items__convert-modal"},(0,r.createElement)("form",{onSubmit:t=>{t.preventDefault(),o(!1),e({title:i,meta:{wp_pattern_sync_status:s}})}},(0,r.createElement)(b.__experimentalVStack,{spacing:"5"},(0,r.createElement)(b.TextControl,{label:(0,v.__)("Name"),value:i,onChange:a,placeholder:(0,v.__)("My pattern"),className:"patterns-create-modal__name-input",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,r.createElement)(yt,null),(0,r.createElement)(b.ToggleControl,{label:(0,v._x)("Synced","Option that makes an individual pattern synchronized"),help:(0,v.__)("Sync this pattern across multiple locations."),checked:!s,onChange:()=>{n(s?void 0:"unsynced")}}),(0,r.createElement)(b.__experimentalHStack,{justify:"right"},(0,r.createElement)(b.Button,{variant:"primary",type:"submit",disabled:!i,__experimentalIsFocusable:!0},(0,v.__)("Create"))))))):null}class Pt extends c.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){const{postId:t,postStatus:o,postType:s,isSavingPost:r,hasHistory:n}=this.props,{historyId:i}=this.state;"trash"!==o||r?t===e.postId&&t===i||"auto-draft"===o||!t||n||this.setBrowserURL(t):this.setTrashURL(t,s)}setTrashURL(e,t){window.location.href=function(e,t){return(0,T.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}(e,t)}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,function(e){return(0,T.addQueryArgs)("post.php",{post:e,action:"edit"})}(e)),this.setState((()=>({historyId:e})))}render(){return null}}const kt=(0,d.withSelect)((e=>{const{getCurrentPost:t,isSavingPost:o}=e(m.store),s=t();let{id:r,status:n,type:i}=s;return["wp_template","wp_template_part"].includes(i)&&(r=s.wp_id),{postId:r,postStatus:n,postType:i,isSavingPost:o()}}))(Pt),Mt=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})),Tt=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})),xt=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,r.createElement)(P.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Bt=function({showTooltip:e,icon:t,href:o,initialPost:s}){var n;const{isActive:i,isRequestingSiteIcon:a,postType:l,siteIconUrl:c}=(0,d.useSelect)((e=>{const{getCurrentPostType:t}=e(m.store),{isFeatureActive:o}=e(st),{getEntityRecord:r,getPostType:n,isResolving:i}=e(f.store),a=r("root","__unstableBase",void 0)||{},l=s?.type||t();return{isActive:o("fullscreenMode"),isRequestingSiteIcon:i("getEntityRecord",["root","__unstableBase",void 0]),postType:n(l),siteIconUrl:a.site_icon_url}}),[]),u=(0,_.useReducedMotion)();if(!i||!l)return null;let p=(0,r.createElement)(b.Icon,{size:"36px",icon:xt});c&&(p=(0,r.createElement)(b.__unstableMotion.img,{variants:!u&&{expand:{scale:1.25,transition:{type:"tween",duration:"0.3"}}},alt:(0,v.__)("Site Icon"),className:"edit-post-fullscreen-mode-close_site-icon",src:c})),a&&(p=null),t&&(p=(0,r.createElement)(b.Icon,{size:"36px",icon:t}));const g=U()({"edit-post-fullscreen-mode-close":!0,"has-icon":c}),h=null!=o?o:(0,T.addQueryArgs)("edit.php",{post_type:l.slug}),E=null!==(n=l?.labels?.view_items)&&void 0!==n?n:(0,v.__)("Back");return(0,r.createElement)(b.__unstableMotion.div,{whileHover:"expand"},(0,r.createElement)(b.Button,{className:g,href:h,label:E,showTooltip:e},p))},At=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),{interfaceStore:It}=R(m.privateApis);function Ct(){const{openModal:e}=(0,d.useDispatch)(It);return(0,r.createElement)(b.MenuItem,{onClick:()=>{e("editor/preferences")}},(0,v.__)("Preferences"))}const Rt=function(){const{set:e}=(0,d.useDispatch)(u.store),{toggleDistractionFree:t}=(0,d.useDispatch)(m.store);return(0,_.useViewportMatch)("medium")?(0,r.createElement)(b.MenuGroup,{label:(0,v._x)("View","noun")},(0,r.createElement)(u.PreferenceToggleMenuItem,{scope:"core",name:"fixedToolbar",onToggle:()=>{e("core","distractionFree",!1)},label:(0,v.__)("Top toolbar"),info:(0,v.__)("Access all block and document tools in a single place"),messageActivated:(0,v.__)("Top toolbar activated"),messageDeactivated:(0,v.__)("Top toolbar deactivated")}),(0,r.createElement)(u.PreferenceToggleMenuItem,{scope:"core",name:"distractionFree",handleToggling:!1,onToggle:t,label:(0,v.__)("Distraction free"),info:(0,v.__)("Write with calmness"),messageActivated:(0,v.__)("Distraction free mode activated"),messageDeactivated:(0,v.__)("Distraction free mode deactivated"),shortcut:A.displayShortcut.primaryShift("\\")}),(0,r.createElement)(u.PreferenceToggleMenuItem,{scope:"core",name:"focusMode",label:(0,v.__)("Spotlight mode"),info:(0,v.__)("Focus on one block at a time"),messageActivated:(0,v.__)("Spotlight mode activated"),messageDeactivated:(0,v.__)("Spotlight mode deactivated")}),(0,r.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,v.__)("Fullscreen mode"),info:(0,v.__)("Show and hide the admin user interface"),messageActivated:(0,v.__)("Fullscreen mode activated"),messageDeactivated:(0,v.__)("Fullscreen mode deactivated"),shortcut:A.displayShortcut.secondary("f")})):null},{ModeSwitcher:Ot,ActionItem:Dt,PinnedItems:Ft}=R(m.privateApis),Nt=({showIconLabels:e})=>{const t=(0,_.useViewportMatch)("large");return(0,r.createElement)(b.DropdownMenu,{icon:At,label:(0,v.__)("Options"),popoverProps:{placement:"bottom-end",className:"more-menu-dropdown__content"},toggleProps:{...e&&{variant:"tertiary"},tooltipPosition:"bottom",showTooltip:!e,size:"compact"}},(({onClose:o})=>(0,r.createElement)(r.Fragment,null,e&&!t&&(0,r.createElement)(Ft.Slot,{className:e&&"show-icon-labels",scope:"core"}),(0,r.createElement)(Rt,null),(0,r.createElement)(Ot,null),(0,r.createElement)(Dt.Slot,{name:"core/plugin-more-menu",label:(0,v.__)("Plugins"),as:b.MenuGroup,fillProps:{onClick:o}}),(0,r.createElement)(L.Slot,{fillProps:{onClose:o}}),(0,r.createElement)(b.MenuGroup,null,(0,r.createElement)(Ct,null)))))},Lt=(0,_.compose)((0,d.withSelect)((e=>{var t;return{hasPublishAction:null!==(t=e(m.store).getCurrentPost()?._links?.["wp:action-publish"])&&void 0!==t&&t,isBeingScheduled:e(m.store).isEditedPostBeingScheduled(),isPending:e(m.store).isCurrentPostPending(),isPublished:e(m.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(m.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(m.store).isPublishSidebarOpened(),isScheduled:e(m.store).isCurrentPostScheduled(),postStatus:e(m.store).getEditedPostAttribute("status"),postStatusHasChanged:e(m.store).getPostEdits()?.status}})),(0,d.withDispatch)((e=>{const{togglePublishSidebar:t}=e(m.store);return{togglePublishSidebar:t}})))((function({forceIsDirty:e,hasPublishAction:t,isBeingScheduled:o,isPending:s,isPublished:n,isPublishSidebarEnabled:i,isPublishSidebarOpened:a,isScheduled:l,togglePublishSidebar:c,setEntitiesSavedStatesCallback:d,postStatusHasChanged:u,postStatus:p}){const g="toggle",h="button",b=(0,_.useViewportMatch)("medium","<");let E;return E=n||u&&!["future","publish"].includes(p)||l&&o||s&&!t&&!b?h:b||i?g:h,(0,r.createElement)(m.PostPublishButton,{forceIsDirty:e,isOpen:a,isToggle:E===g,onToggle:c,setEntitiesSavedStatesCallback:d})})),Vt="__experimentalMainDashboardButton",{Fill:Gt,Slot:Ht}=(0,b.createSlotFill)(Vt),zt=Gt;zt.Slot=({children:e})=>{const t=(0,b.__experimentalUseSlotFills)(Vt);return Boolean(t&&t.length)?(0,r.createElement)(Ht,{bubblesVirtually:!0}):e};const Ut=zt,{useShowBlockTools:Wt}=R(E.privateApis),{DocumentTools:qt,PostViewLink:$t,PreviewDropdown:Qt,PinnedItems:jt}=R(m.privateApis),Xt={hidden:{y:"-50px"},distractionFreeInactive:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}},Zt={hidden:{x:"-100%"},distractionFreeInactive:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}},Yt=function({setEntitiesSavedStatesCallback:e,initialPost:t}){const o=(0,_.useViewportMatch)("large"),s=(0,_.useViewportMatch)("medium"),n=(0,c.useRef)(),{isTextEditor:i,blockSelectionStart:a,hasActiveMetaboxes:l,isPublishSidebarOpened:p,showIconLabels:g,hasHistory:h}=(0,d.useSelect)((e=>{const{get:t}=e(u.store),{getEditorMode:o}=e(m.store);return{isTextEditor:"text"===o(),blockSelectionStart:e(E.store).getBlockSelectionStart(),hasActiveMetaboxes:e(st).hasMetaBoxes(),hasHistory:!!e(m.store).getEditorSettings().onNavigateToPreviousEntityRecord,isPublishSidebarOpened:e(m.store).isPublishSidebarOpened(),showIconLabels:t("core","showIconLabels")}}),[]),{showFixedToolbar:w}=Wt(),S=s&&w,[y,f]=(0,c.useState)(!0),P=!!a;return(0,c.useEffect)((()=>{a&&f(!1)}),[a]),(0,r.createElement)("div",{className:"edit-post-header"},(0,r.createElement)(Ut.Slot,null,(0,r.createElement)(b.__unstableMotion.div,{variants:Zt,transition:{type:"tween",delay:.8}},(0,r.createElement)(Bt,{showTooltip:!0,initialPost:t}))),(0,r.createElement)(b.__unstableMotion.div,{variants:Xt,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,r.createElement)(qt,{disableBlockTools:i}),S&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:U()("selected-block-tools-wrapper",{"is-collapsed":y||!P})},(0,r.createElement)(E.BlockToolbar,{hideDragHandle:!0})),(0,r.createElement)(b.Popover.Slot,{ref:n,name:"block-toolbar"}),(0,r.createElement)(b.Button,{className:"edit-post-header__block-tools-toggle",icon:y?Mt:Tt,onClick:()=>{f((e=>!e))},label:y?(0,v.__)("Show block tools"):(0,v.__)("Hide block tools"),size:"compact"})),(0,r.createElement)("div",{className:U()("edit-post-header__center",{"is-collapsed":h&&!y&&S})},h&&(0,r.createElement)(m.DocumentBar,null))),(0,r.createElement)(b.__unstableMotion.div,{variants:Xt,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},!p&&(0,r.createElement)(m.PostSavedState,{forceIsDirty:l}),(0,r.createElement)(Qt,{forceIsAutosaveable:l}),(0,r.createElement)(m.PostPreviewButton,{className:"edit-post-header__post-preview-button",forceIsAutosaveable:l}),(0,r.createElement)($t,null),(0,r.createElement)(Lt,{forceIsDirty:l,setEntitiesSavedStatesCallback:e}),(o||!g)&&(0,r.createElement)(jt.Slot,{scope:"core"}),(0,r.createElement)(Nt,{showIconLabels:g})))},Kt=(0,r.createElement)(P.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),Jt=(0,r.createElement)(P.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),{Tabs:eo}=R(b.privateApis),to=(0,c.forwardRef)(((e,t)=>{const{documentLabel:o}=(0,d.useSelect)((e=>{const{getPostTypeLabel:t}=e(m.store);return{
// translators: Default label for the Document sidebar tab, not selected.
documentLabel:t()||(0,v._x)("Document","noun")}}),[]);return(0,r.createElement)(eo.TabList,{ref:t},(0,r.createElement)(eo.Tab,{tabId:yo.document,"data-tab-id":yo.document},o),(0,r.createElement)(eo.Tab,{tabId:yo.block,"data-tab-id":yo.block},(0,v.__)("Block")))}));function oo(){return(0,r.createElement)(m.PostTrashCheck,null,(0,r.createElement)(m.PostTrash,null))}const{PostPanelRow:so}=R(m.privateApis),ro=function(){return(0,r.createElement)(m.PostStickyCheck,null,(0,r.createElement)(so,null,(0,r.createElement)(m.PostSticky,null)))},no=function(){return(0,r.createElement)(m.PostSlugCheck,null,(0,r.createElement)(b.PanelRow,{className:"edit-post-post-slug"},(0,r.createElement)(m.PostSlug,null)))},io=function(){return(0,r.createElement)(m.PostFormatCheck,null,(0,r.createElement)(b.PanelRow,{className:"edit-post-post-format"},(0,r.createElement)(m.PostFormat,null)))},{PostStatus:ao}=R(m.privateApis),lo="post-status";function co(){const{isOpened:e,isRemoved:t}=(0,d.useSelect)((e=>{const{isEditorPanelRemoved:t,isEditorPanelOpened:o}=e(m.store);return{isRemoved:t(lo),isOpened:o(lo)}}),[]),{toggleEditorPanelOpened:o}=(0,d.useDispatch)(m.store);return t?null:(0,r.createElement)(b.PanelBody,{className:"edit-post-post-status",title:(0,v.__)("Summary"),opened:e,onToggle:()=>o(lo)},(0,r.createElement)(m.PluginPostStatusInfo.Slot,null,(e=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ao,null),(0,r.createElement)(m.PostFeaturedImagePanel,{withPanelBody:!1}),(0,r.createElement)(m.PostSchedulePanel,null),(0,r.createElement)(m.PostTemplatePanel,null),(0,r.createElement)(m.PostURLPanel,null),(0,r.createElement)(m.PostSyncStatus,null),(0,r.createElement)(ro,null),(0,r.createElement)(io,null),(0,r.createElement)(no,null),(0,r.createElement)(m.PostAuthorPanel,null),e,(0,r.createElement)(b.__experimentalHStack,{style:{marginTop:"16px"}},(0,r.createElement)(oo,null))))))}const uo=function({location:e}){const t=(0,c.useRef)(null),o=(0,c.useRef)(null);(0,c.useEffect)((()=>(o.current=document.querySelector(".metabox-location-"+e),o.current&&t.current.appendChild(o.current),()=>{o.current&&document.querySelector("#metaboxes").appendChild(o.current)})),[e]);const s=(0,d.useSelect)((e=>e(st).isSavingMetaBoxes()),[]),n=U()("edit-post-meta-boxes-area",`is-${e}`,{"is-loading":s});return(0,r.createElement)("div",{className:n},s&&(0,r.createElement)(b.Spinner,null),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class po extends c.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){const{id:e,isVisible:t}=this.props,o=document.getElementById(e);o&&(t?o.classList.remove("is-hidden"):o.classList.add("is-hidden"))}render(){return null}}const mo=(0,d.withSelect)(((e,{id:t})=>({isVisible:e(m.store).isEditorPanelEnabled(`meta-box-${t}`)})))(po);function go({location:e}){const t=(0,d.useRegistry)(),{metaBoxes:o,areMetaBoxesInitialized:s,isEditorReady:n}=(0,d.useSelect)((t=>{const{__unstableIsEditorReady:o}=t(m.store),{getMetaBoxesPerLocation:s,areMetaBoxesInitialized:r}=t(st);return{metaBoxes:s(e),areMetaBoxesInitialized:r(),isEditorReady:o()}}),[e]),i=!!o?.length;return(0,c.useEffect)((()=>{n&&i&&!s&&t.dispatch(st).initializeMetaBoxes()}),[n,i,s]),s?(0,r.createElement)(r.Fragment,null,(null!=o?o:[]).map((({id:e})=>(0,r.createElement)(mo,{key:e,id:e}))),(0,r.createElement)(uo,{location:e})):null}const{PostCardPanel:ho,PostActions:bo,interfaceStore:Eo}=R(m.privateApis),{Tabs:vo}=R(b.privateApis),{PatternOverridesPanel:_o,useAutoSwitchEditorSidebars:wo}=R(m.privateApis),So=c.Platform.select({web:!0,native:!1}),yo={document:"edit-post/document",block:"edit-post/block"};function fo(e,t){if("move-to-trash"===e){const e=t[0].type;document.location.href=(0,T.addQueryArgs)("edit.php",{post_type:e})}}const Po=({tabName:e,keyboardShortcut:t,isEditingTemplate:o})=>{const s=(0,c.useRef)(null),n=(0,c.useContext)(vo.Context);return(0,c.useEffect)((()=>{const t=Array.from(s.current?.querySelectorAll('[role="tab"]')||[]),o=t.find((t=>t.getAttribute("data-tab-id")===e)),r=o?.ownerDocument.activeElement;t.some((e=>r&&r.id===e.id))&&o&&o.id!==r?.id&&o?.focus()}),[e]),(0,r.createElement)(m.PluginSidebar,{identifier:e,header:(0,r.createElement)(vo.Context.Provider,{value:n},(0,r.createElement)(to,{ref:s})),closeLabel:(0,v.__)("Close Settings"),className:"edit-post-sidebar__panel",headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,v.__)("Settings"),toggleShortcut:t,icon:(0,v.isRTL)()?Kt:Jt,isActiveByDefault:So},(0,r.createElement)(vo.Context.Provider,{value:n},(0,r.createElement)(vo.TabPanel,{tabId:yo.document,focusable:!1},(0,r.createElement)(ho,{actions:(0,r.createElement)(bo,{onActionPerformed:fo})}),!o&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(co,null),(0,r.createElement)(m.PluginDocumentSettingPanel.Slot,null),(0,r.createElement)(m.PostLastRevisionPanel,null),(0,r.createElement)(m.PostTaxonomiesPanel,null),(0,r.createElement)(m.PostExcerptPanel,null),(0,r.createElement)(m.PostDiscussionPanel,null),(0,r.createElement)(m.PageAttributesPanel,null),(0,r.createElement)(_o,null),(0,r.createElement)(go,{location:"side"}))),(0,r.createElement)(vo.TabPanel,{tabId:yo.block,focusable:!1},(0,r.createElement)(E.BlockInspector,null))))},ko=()=>{wo();const{tabName:e,keyboardShortcut:t,isEditingTemplate:o}=(0,d.useSelect)((e=>{const t=e(W.store).getShortcutRepresentation("core/editor/toggle-sidebar"),o=e(Eo).getActiveComplementaryArea("core");let s=o;return[yo.block,yo.document].includes(o)||(s=e(E.store).getBlockSelectionStart()?yo.block:yo.document),{tabName:s,keyboardShortcut:t,isEditingTemplate:"wp_template"===e(m.store).getCurrentPostType()}}),[]),{openGeneralSidebar:s}=(0,d.useDispatch)(st),n=(0,c.useCallback)((e=>{e&&s(e)}),[s]);return(0,r.createElement)(vo,{selectedTabId:e,onSelect:n,selectOnMove:!1},(0,r.createElement)(Po,{tabName:e,keyboardShortcut:t,isEditingTemplate:o}))};function Mo({nonAnimatedSrc:e,animatedSrc:t}){return(0,r.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,r.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,r.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}function To(){const{toggleFeature:e}=(0,d.useDispatch)(st);return(0,r.createElement)(b.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,v.__)("Welcome to the block editor"),finishButtonText:(0,v.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,r.createElement)(Mo,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Welcome to the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct “block” of content.")))},{image:(0,r.createElement)(Mo,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Make each block your own")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,r.createElement)(Mo,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Get to know the block library")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,c.createInterpolateElement)((0,v.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,r.createElement)("img",{alt:(0,v.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,r.createElement)(Mo,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Learn how to use the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("New to the block editor? Want to learn more about using it? "),(0,r.createElement)(b.ExternalLink,{href:(0,v.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")},(0,v.__)("Here's a detailed guide."))))}]})}function xo(){const{toggleFeature:e}=(0,d.useDispatch)(st);return(0,r.createElement)(b.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,v.__)("Welcome to the template editor"),finishButtonText:(0,v.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,r.createElement)(Mo,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Welcome to the template editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")))}]})}function Bo(){const{isActive:e,isEditingTemplate:t}=(0,d.useSelect)((e=>{const{isFeatureActive:t}=e(st),{getCurrentPostType:o}=e(m.store),s="wp_template"===o();return{isActive:t(s?"welcomeGuideTemplate":"welcomeGuide"),isEditingTemplate:s}}),[]);return e?t?(0,r.createElement)(xo,null):(0,r.createElement)(To,null):null}const{Fill:Ao,Slot:Io}=(0,b.createSlotFill)("ActionsPanel");function Co({setEntitiesSavedStatesCallback:e,closeEntitiesSavedStates:t,isEntitiesSavedStatesOpen:o}){const{closePublishSidebar:s,togglePublishSidebar:n}=(0,d.useDispatch)(m.store),{publishSidebarOpened:i,hasActiveMetaboxes:a,hasNonPostEntityChanges:l}=(0,d.useSelect)((e=>({publishSidebarOpened:e(m.store).isPublishSidebarOpened(),hasActiveMetaboxes:e(st).hasMetaBoxes(),hasNonPostEntityChanges:e(m.store).hasNonPostEntityChanges()})),[]),u=(0,c.useCallback)((()=>e(!0)),[]);let p;return p=i?(0,r.createElement)(m.PostPublishPanel,{onClose:s,forceIsDirty:a,PrePublishExtension:m.PluginPrePublishPanel.Slot,PostPublishExtension:m.PluginPostPublishPanel.Slot}):l?(0,r.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,r.createElement)(b.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:u,"aria-expanded":!1},(0,v.__)("Open save panel"))):(0,r.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,r.createElement)(b.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:n,"aria-expanded":!1},(0,v.__)("Open publish panel"))),(0,r.createElement)(r.Fragment,null,o&&(0,r.createElement)(m.EntitiesSavedStates,{close:t}),(0,r.createElement)(Io,{bubblesVirtually:!0}),!o&&p)}const Ro=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),Oo=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"})),Do=(0,r.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(P.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),{interfaceStore:Fo}=R(m.privateApis),{getLayoutStyles:No}=R(E.privateApis),{useCommands:Lo}=R(q.privateApis),{useCommandContext:Vo}=R(H.privateApis),{InserterSidebar:Go,ListViewSidebar:Ho,ComplementaryArea:zo,FullscreenMode:Uo,InterfaceSkeleton:Wo,interfaceStore:qo}=R(m.privateApis),$o={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,v.__)("Editor top bar"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,v.__)("Editor content"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,v.__)("Editor settings"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,v.__)("Editor publish"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,v.__)("Editor footer")},Qo=function({initialPost:e}){Lo(),function(){const{openGeneralSidebar:e,closeGeneralSidebar:t}=(0,d.useDispatch)(st),{activeSidebar:o,isFullscreen:s,isPublishSidebarEnabled:r}=(0,d.useSelect)((e=>{const{get:t}=e(u.store);return{activeSidebar:e(Fo).getActiveComplementaryArea("core"),isPublishSidebarEnabled:e(m.store).isPublishSidebarEnabled(),isFullscreen:t("core/edit-post","fullscreenMode")}}),[]),{toggle:n}=(0,d.useDispatch)(u.store),{createInfoNotice:i}=(0,d.useDispatch)(x.store);(0,H.useCommand)({name:"core/open-settings-sidebar",label:(0,v.__)("Toggle settings sidebar"),icon:(0,v.isRTL)()?Kt:Jt,callback:({close:s})=>{s(),"edit-post/document"===o?t():e("edit-post/document")}}),(0,H.useCommand)({name:"core/open-block-inspector",label:(0,v.__)("Toggle block inspector"),icon:Ro,callback:({close:s})=>{s(),"edit-post/block"===o?t():e("edit-post/block")}}),(0,H.useCommand)({name:"core/toggle-fullscreen-mode",label:s?(0,v.__)("Exit fullscreen"):(0,v.__)("Enter fullscreen"),icon:Oo,callback:({close:e})=>{n("core/edit-post","fullscreenMode"),e(),i(s?(0,v.__)("Fullscreen off."):(0,v.__)("Fullscreen on."),{id:"core/edit-post/toggle-fullscreen-mode/notice",type:"snackbar",actions:[{label:(0,v.__)("Undo"),onClick:()=>{n("core/edit-post","fullscreenMode")}}]})}}),(0,H.useCommand)({name:"core/toggle-publish-sidebar",label:r?(0,v.__)("Disable pre-publish checks"):(0,v.__)("Enable pre-publish checks"),icon:Do,callback:({close:e})=>{e(),n("core","isPublishSidebarEnabled"),i(r?(0,v.__)("Pre-publish checks disabled."):(0,v.__)("Pre-publish checks enabled."),{id:"core/editor/publish-sidebar/notice",type:"snackbar"})}})}();const t=(0,_.useViewportMatch)("medium","<"),o=(0,_.useViewportMatch)("huge",">="),s=(0,_.useViewportMatch)("large"),n=(0,_.useViewportMatch)("medium"),{closeGeneralSidebar:i}=(0,d.useDispatch)(st),{createErrorNotice:a}=(0,d.useDispatch)(x.store),{setIsInserterOpened:l}=(0,d.useDispatch)(m.store),{mode:p,isFullscreenActive:g,isRichEditingEnabled:h,sidebarIsOpened:w,hasActiveMetaboxes:S,previousShortcut:y,nextShortcut:f,hasBlockSelected:P,isInserterOpened:k,isListViewOpened:T,showIconLabels:B,isDistractionFree:A,showBlockBreadcrumbs:I,showMetaBoxes:C,documentLabel:R,hasHistory:O}=(0,d.useSelect)((e=>{const{get:t}=e(u.store),{getEditorSettings:o,getPostTypeLabel:s}=e(m.store),r=o(),n=s();return{showMetaBoxes:"post-only"===e(m.store).getRenderingMode(),sidebarIsOpened:!(!e(qo).getActiveComplementaryArea("core")&&!e(m.store).isPublishSidebarOpened()),isFullscreenActive:e(st).isFeatureActive("fullscreenMode"),isInserterOpened:e(m.store).isInserterOpened(),isListViewOpened:e(m.store).isListViewOpened(),mode:e(m.store).getEditorMode(),isRichEditingEnabled:r.richEditingEnabled,hasActiveMetaboxes:e(st).hasMetaBoxes(),previousShortcut:e(W.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(W.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:t("core","showIconLabels"),isDistractionFree:t("core","distractionFree"),showBlockBreadcrumbs:t("core","showBlockBreadcrumbs"),
// translators: Default label for the Document in the Block Breadcrumb.
documentLabel:n||(0,v._x)("Document","noun"),hasBlockSelected:!!e(E.store).getBlockSelectionStart(),hasHistory:!!o().onNavigateToPreviousEntityRecord}}),[]);Vo(P?"block-selection-edit":"post-editor-edit");const D=function(){const{hasThemeStyleSupport:e,editorSettings:t}=(0,d.useSelect)((e=>({hasThemeStyleSupport:e(st).isFeatureActive("themeStyles"),editorSettings:e(m.store).getEditorSettings()})),[]);return(0,c.useMemo)((()=>{var o,s;const r=null!==(o=t.styles?.filter((e=>e.__unstableType&&"theme"!==e.__unstableType)))&&void 0!==o?o:[],n=[...t.defaultEditorStyles,...r],i=e&&r.length!==(null!==(s=t.styles?.length)&&void 0!==s?s:0);return t.disableLayoutStyles||i||n.push({css:No({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})}),i?t.styles:n}),[t.defaultEditorStyles,t.disableLayoutStyles,t.styles,e])}();(0,c.useEffect)((()=>{w&&!o&&l(!1)}),[o,l,w]),(0,c.useEffect)((()=>{k&&!o&&i()}),[i,k,o]);const[F,N]=(0,c.useState)(!1),L=(0,c.useCallback)((e=>{"function"==typeof F&&F(e),N(!1)}),[F]);B?document.body.classList.add("show-icon-labels"):document.body.classList.remove("show-icon-labels");const V=U()("edit-post-layout","is-mode-"+p,{"is-sidebar-opened":w,"has-metaboxes":S,"is-distraction-free":A&&s,"is-entity-save-view-open":!!F}),G=T?(0,v.__)("Document Overview"):(0,v.__)("Block Library");return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Uo,{isActive:g}),(0,r.createElement)(kt,{hasHistory:O}),(0,r.createElement)(m.UnsavedChangesWarning,null),(0,r.createElement)(m.AutosaveMonitor,null),(0,r.createElement)(m.LocalAutosaveMonitor,null),(0,r.createElement)(at,null),(0,r.createElement)(m.EditorKeyboardShortcutsRegister,null),(0,r.createElement)(m.EditorKeyboardShortcuts,null),(0,r.createElement)(Wo,{isDistractionFree:A&&s,className:V,labels:{...$o,secondarySidebar:G},header:(0,r.createElement)(Yt,{setEntitiesSavedStatesCallback:N,initialPost:e}),editorNotices:(0,r.createElement)(m.EditorNotices,null),secondarySidebar:"visual"===p&&k?(0,r.createElement)(Go,{closeGeneralSidebar:i,isRightSidebarOpen:w}):"visual"===p&&T?(0,r.createElement)(Ho,null):null,sidebar:!A&&(0,r.createElement)(zo.Slot,{scope:"core"}),notices:(0,r.createElement)(m.EditorSnackbars,null),content:(0,r.createElement)(r.Fragment,null,!A&&(0,r.createElement)(m.EditorNotices,null),("text"===p||!h)&&(0,r.createElement)(rt,null),!n&&(0,r.createElement)(E.BlockToolbar,{hideDragHandle:!0}),h&&"visual"===p&&(0,r.createElement)(it,{styles:D}),!A&&C&&(0,r.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,r.createElement)(go,{location:"normal"}),(0,r.createElement)(go,{location:"advanced"})),t&&w&&(0,r.createElement)(b.ScrollLock,null)),footer:!A&&!t&&I&&h&&"visual"===p&&(0,r.createElement)("div",{className:"edit-post-layout__footer"},(0,r.createElement)(E.BlockBreadcrumb,{rootLabelText:R})),actions:(0,r.createElement)(Co,{closeEntitiesSavedStates:L,isEntitiesSavedStatesOpen:F,setEntitiesSavedStatesCallback:N}),shortcuts:{previous:y,next:f}}),(0,r.createElement)(St,null),(0,r.createElement)(Bo,null),(0,r.createElement)(ft,null),(0,r.createElement)(M.PluginArea,{onError:function(e){a((0,v.sprintf)(/* translators: %s: plugin name */ /* translators: %s: plugin name */
(0,v.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}),!A&&(0,r.createElement)(ko,null))};function jo(){return(()=>{const{newPermalink:e}=(0,d.useSelect)((e=>({newPermalink:e(m.store).getCurrentPost().link})),[]),t=(0,c.useRef)();(0,c.useEffect)((()=>{t.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[]),(0,c.useEffect)((()=>{e&&t.current&&t.current.setAttribute("href",e)}),[e])})(),null}const{ExperimentalEditorProvider:Xo}=R(m.privateApis),Zo=function({postId:e,postType:t,settings:o,initialEdits:s,...n}){const{currentPost:i,onNavigateToEntityRecord:a,onNavigateToPreviousEntityRecord:l}=function(e,t,o){const[s,r]=(0,c.useReducer)(((e,{type:t,post:o,previousRenderingMode:s})=>"push"===t?[...e,{post:o,previousRenderingMode:s}]:"pop"===t&&e.length>1?e.slice(0,-1):e),[{post:{postId:e,postType:t}}]),{post:n,previousRenderingMode:i}=s[s.length-1],{getRenderingMode:a}=(0,d.useSelect)(m.store),{setRenderingMode:l}=(0,d.useDispatch)(m.store),u=(0,c.useCallback)((e=>{r({type:"push",post:{postId:e.postId,postType:e.postType},previousRenderingMode:a()}),l(o)}),[a,l,o]),p=(0,c.useCallback)((()=>{r({type:"pop"}),i&&l(i)}),[l,i]);return{currentPost:n,onNavigateToEntityRecord:u,onNavigateToPreviousEntityRecord:s.length>1?p:void 0}}(e,t,"post-only"),{post:u,template:p}=(0,d.useSelect)((e=>{var t;const{getEditedPostTemplate:o}=e(st),{getEntityRecord:s,getPostType:r,canUser:n}=e(f.store),{getEditorSettings:a}=e(m.store),l=s("postType",i.postType,i.postId),c=a().supportsTemplateMode,d=null!==(t=r(i.postType)?.viewable)&&void 0!==t&&t,u=n("read","templates");return{template:c&&d&&u&&"wp_template"!==i.postType?o():null,post:l}}),[i.postType,i.postId]),g=(0,c.useMemo)((()=>({...o,onNavigateToEntityRecord:a,onNavigateToPreviousEntityRecord:l,defaultRenderingMode:"post-only"})),[o,a,l]),h=(0,c.useMemo)((()=>({type:t,id:e})),[t,e]);return u?(0,r.createElement)(b.SlotFillProvider,null,(0,r.createElement)(Xo,{settings:g,post:u,initialEdits:s,useSubRegistry:!1,__unstableTemplate:p,...n},(0,r.createElement)(m.ErrorBoundary,null,(0,r.createElement)(H.CommandMenu,null),(0,r.createElement)(jo,null),(0,r.createElement)(Qo,{initialPost:h})),(0,r.createElement)(m.PostLockedModal,null))):null};function Yo(e){return l()("wp.editPost.PluginPostPublishPanel",{since:"6.6",version:"6.8",alternative:"wp.editor.PluginPostPublishPanel"}),(0,r.createElement)(m.PluginPostPublishPanel,{...e})}function Ko(e){return l()("wp.editPost.PluginPrePublishPanel",{since:"6.6",version:"6.8",alternative:"wp.editor.PluginPrePublishPanel"}),(0,r.createElement)(m.PluginPrePublishPanel,{...e})}const{PluginPostExcerpt:Jo}=R(m.privateApis);function es(e,t,o,s,a){const l=window.matchMedia("(min-width: 782px)").matches,g=document.getElementById(e),h=(0,c.createRoot)(g);return(0,d.dispatch)(u.store).setDefaults("core/edit-post",{fullscreenMode:!0,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,d.dispatch)(u.store).setDefaults("core",{allowRightClickOverrides:!0,editorMode:"visual",fixedToolbar:!1,hiddenBlockTypes:[],inactivePanels:[],openPanels:["post-status"],showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,isPublishSidebarEnabled:!0}),(0,d.dispatch)(n.store).reapplyBlockTypeFilters(),l&&(0,d.select)(u.store).get("core","showListViewByDefault")&&!(0,d.select)(u.store).get("core","distractionFree")&&(0,d.dispatch)(m.store).setIsListViewOpened(!0),(0,i.registerCoreBlocks)(),(0,p.registerLegacyWidgetBlock)({inserter:!1}),(0,p.registerWidgetGroupBlock)({inserter:!1}),(0,i.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:s.__unstableEnableFullSiteEditingBlocks}),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),h.render((0,r.createElement)(Zo,{settings:s,postId:o,postType:t,initialEdits:a})),h}function ts(){l()("wp.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}})(),(window.wp=window.wp||{}).editPost=s})();
//# sourceMappingURL=index.min.js.map